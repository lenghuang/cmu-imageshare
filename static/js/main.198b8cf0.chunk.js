(this.webpackJsonpimages=this.webpackJsonpimages||[]).push([[0],{16:function(e,a,t){},33:function(e,a,t){e.exports=t.p+"static/media/leftarrow.c40e72ca.png"},34:function(e,a,t){e.exports=t.p+"static/media/rightarrow.9fd9462d.png"},42:function(e,a,t){e.exports=t.p+"static/media/s20_logo.8861a56c.png"},47:function(e,a,t){e.exports=t(60)},52:function(e,a,t){},60:function(e,a,t){"use strict";t.r(a);t(24);var n=t(0),r=t.n(n),o=t(18),s=t.n(o),l=(t(52),t(43)),i=t(33),c=t.n(i),u=t(34),m=t.n(u),p=t(14),h=(t(16),t(28));t(61),t(54);h.initializeApp({apiKey:"AIzaSyCvzTRIbsUGn5LswZjEQ3S5q0n0-syCL_s",authDomain:"sushi-7c58c.firebaseapp.com",databaseURL:"https://sushi-7c58c.firebaseio.com/",projectId:"sushi-7c58c",storageBucket:"sushi-7c58c.appspot.com",messagingSenderId:"723643017410",appId:"1:723643017410:web:197eda27b80544d40a335b"});var d=h,g=["https://firebasestorage.googleapis.com/v0/b/sushi-7c58c.appspot.com/o/images%2F73212175_1182813895246272_1156546173536829440_n.jpg?alt=media&token=4cb6aa34-3c68-4869-8d6c-52cba2a9b126","https://firebasestorage.googleapis.com/v0/b/sushi-7c58c.appspot.com/o/images%2F29B72064-4FA9-4E10-8BA7-6C8D0512AD19.jpeg?alt=media&token=8d9d03b1-0718-4534-8571-9353e8be96cb"],E=[{url:"https://firebasestorage.googleapis.com/v0/b/sushi-7c58c.appspot.com/o/default%2Fdefault.png?alt=media&token=a6fba805-0145-44df-ad06-c011f1eaec04",caption:"",person:""},{url:"https://firebasestorage.googleapis.com/v0/b/sushi-7c58c.appspot.com/o/images%2F73212175_1182813895246272_1156546173536829440_n.jpg?alt=media&token=4cb6aa34-3c68-4869-8d6c-52cba2a9b126",caption:"Halloween",person:"Gary Aldrich"},{url:"https://firebasestorage.googleapis.com/v0/b/sushi-7c58c.appspot.com/o/images%2F29B72064-4FA9-4E10-8BA7-6C8D0512AD19.jpeg?alt=media&token=8d9d03b1-0718-4534-8571-9353e8be96cb",caption:"MCCC Boys",person:"Lucy Gao"}];function v(e){var a=e.url;!g.includes(a)&&function(e){var a=new Image;return a.src=e,0!==a.height}(a)&&(g.push(a),E.push(e))}function f(e){for(var a=e.val(),t=Object.keys(a),n=0;n<t.length;n++){var r=a[t[n]];v({url:r.imageURL,caption:r.caption,person:r.person})}}function b(e){console.log(e)}function C(e){return r.a.createElement(p.a.Item,null,r.a.createElement("img",{className:"slideshow",src:e.url,alt:""}),r.a.createElement(p.a.Caption,null,r.a.createElement("h3",null,e.caption),r.a.createElement("p",null,"Submitted By: ",e.person)))}var w=function(){return d.database().ref("images").on("value",f,b),E.map(C)};var S=function(){var e=Object(n.useState)(0),a=Object(l.a)(e,2),t=a[0],o=a[1];return r.a.createElement("div",{className:"carousel"},r.a.createElement(p.a,{activeIndex:t,onSelect:function(e,a){o(e)},nextIcon:r.a.createElement("img",{src:m.a,style:{height:"min(12vh,10vw)"}}),prevIcon:r.a.createElement("img",{src:c.a,style:{height:"min(12vh,10vw)"}})},w()))},y=t(38),U=t(39),I=t(10),A=t(45),N=t(46),k=t(64),j=t(40),O=t(41),P=t(7),T=t(13),x=function(e){Object(N.a)(t,e);var a=Object(A.a)(t);function t(){var e;return Object(y.a)(this,t),(e=a.call(this)).handleUpload=function(){var a=e.state.image;(null===a&&e.setState({showUploadError:!0}),""===e.state.inputCaption&&""===e.state.inputPerson)?e.setState({showInputError:!0}):(e.setState({showUploadSuccess:!0}),d.storage().ref().child("images/".concat(e.state.inputPerson.replace(/[^a-zA-Z ]/g,"")+"_"+e.state.inputCaption.replace(/[^a-zA-Z ]/g,""))).put(a).on("state_changed",(function(e){console.log(e)}),(function(a){console.log(a),e.setState({showServerError:!0})}),(function(){d.storage().ref().child("images/".concat(e.state.inputPerson.replace(/[^a-zA-Z ]/g,"")+"_"+e.state.inputCaption.replace(/[^a-zA-Z ]/g,""))).getDownloadURL().then((function(a){console.log(a),console.log(e.state.inputCaption);var t={imageURL:a,caption:e.state.inputCaption,person:e.state.inputPerson};d.database().ref("images").push(t)}))})))},e.state={image:null,fileText:"Find an image...",inputCaption:"",inputPerson:"",showUploadError:!1,showUploadSuccess:!1,showInputError:!1,showServerError:!1},e.handleFileChange=e.handleFileChange.bind(Object(I.a)(e)),e.handleCapChange=e.handleCapChange.bind(Object(I.a)(e)),e.handlePplChange=e.handlePplChange.bind(Object(I.a)(e)),e.handleUpload=e.handleUpload.bind(Object(I.a)(e)),e}return Object(U.a)(t,[{key:"handleCapChange",value:function(e){this.setState({inputCaption:e.target.value})}},{key:"handlePplChange",value:function(e){this.setState({inputPerson:e.target.value})}},{key:"handleFileChange",value:function(e){if(e.target.files[0]){var a=e.target.files[0];this.setState((function(){return{image:a}})),this.setState({fileText:a.name})}}},{key:"render",value:function(){var e=this;return this.state.showUploadError&&this.state.showInputError?r.a.createElement("div",{className:"Alert"},r.a.createElement(T.a,{variant:"warning",onClose:function(){return e.setState({showUploadError:!1,showInputError:!1})},dismissible:!0},r.a.createElement("div",{className:"alertText"}," ",r.a.createElement("b",null,"NO INPUTS:")," Please use these forms to input an image caption, your name, and an image!"))):this.state.showUploadError?r.a.createElement("div",{className:"Alert"},r.a.createElement(T.a,{variant:"danger",onClose:function(){return e.setState({showUploadError:!1})},dismissible:!0},r.a.createElement("div",{className:"alertText"}," ",r.a.createElement("b",null,"NO IMAGE:")," Select an image first to upload."))):this.state.showServerError?r.a.createElement("div",{className:"Alert"},r.a.createElement(T.a,{variant:"warning",onClose:function(){return e.setState({showServerError:!1})},dismissible:!0},r.a.createElement("div",{className:"alertText"}," ",r.a.createElement("b",null,"DID NOT UPLOAD:")," Something went wrong with uploading the image to the server. This will be fixed soon!"))):this.state.showUploadSuccess?r.a.createElement("div",{className:"Alert"},r.a.createElement(T.a,{variant:"success",onClose:function(){return e.setState({showUploadSuccess:!1})},dismissible:!0}," ",r.a.createElement("b",null,"SUCCESSFUL UPLOAD: ")," Scroll to see your picture in the slide show :-)")):this.state.showInputError?r.a.createElement("div",{className:"Alert"},r.a.createElement(T.a,{variant:"danger",onClose:function(){return e.setState({showInputError:!1})},dismissible:!0},r.a.createElement("div",{className:"alertText"}," ",r.a.createElement("b",null,"NO TEXT:")," Please input a description/caption for your image, as well as your name/nickname."))):r.a.createElement("div",{className:"ButtonContainer"},r.a.createElement("div",{style:{paddingTop:"7vh",paddingBottom:"2vh",left:"30%",width:"40%",fontSize:"min(2.75vw,1.8vh)",position:"relative"}},r.a.createElement(P.a,null,r.a.createElement(k.a,null,r.a.createElement(j.a,null,r.a.createElement(P.a.Group,{onChange:function(a){return e.handleCapChange(a)},controlId:"formCaption"},r.a.createElement(P.a.Control,{placeholder:"Enter Caption"}))),r.a.createElement(j.a,null,r.a.createElement(P.a.Group,{onChange:this.handlePplChange,controlId:"formPerson"},r.a.createElement(P.a.Control,{placeholder:"Enter Your Name / Alias"}))))),r.a.createElement(k.a,null,r.a.createElement(j.a,null,r.a.createElement(P.a,{onChange:function(a){return e.handleFileChange(a)}},r.a.createElement(P.a.File,{label:this.state.fileText,lang:"en",custom:!0}))),r.a.createElement(j.a,null,r.a.createElement(O.a,{variant:"secondary",onClick:this.handleUpload,block:!0},r.a.createElement("span",{style:{fontSize:"min(2.75vw,1.8vh)"}}," ","Click Here To Upload"," "))))))}}]),t}(n.Component),F=t(42),B=t.n(F);var L=function(){return r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"SCS Image Share"," ",r.a.createElement("img",{src:B.a,style:{height:"15vh"},alt:""}))),r.a.createElement(S,null),r.a.createElement(x,null),r.a.createElement("div",{className:"footer"},r.a.createElement("p",null," ",r.a.createElement("a",{href:"https://github.com/lenghuang/cmu-imageshare"},"Made by Len Huang \xa9 March 2020"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[47,1,2]]]);
//# sourceMappingURL=main.198b8cf0.chunk.js.map