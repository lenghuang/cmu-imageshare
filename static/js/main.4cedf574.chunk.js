(this.webpackJsonpimages=this.webpackJsonpimages||[]).push([[0],{14:function(e,t,a){},25:function(e,t,a){e.exports=a.p+"static/media/default.695b8016.png"},37:function(e,t,a){e.exports=a.p+"static/media/s20_logo.8861a56c.png"},43:function(e,t,a){e.exports=a(65)},48:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);a(20);var n=a(0),r=a.n(n),o=a(16),l=a.n(o),i=(a(48),a(14),a(24));a(66),a(49);i.initializeApp({apiKey:"AIzaSyCvzTRIbsUGn5LswZjEQ3S5q0n0-syCL_s",authDomain:"sushi-7c58c.firebaseapp.com",databaseURL:"https://sushi-7c58c.firebaseio.com/",projectId:"sushi-7c58c",storageBucket:"sushi-7c58c.appspot.com",messagingSenderId:"723643017410",appId:"1:723643017410:web:197eda27b80544d40a335b"});var s=i,c=a(25),u=a.n(c),h=[],m=[{original:u.a,thumbnail:u.a}];function p(e){var t=e.original;h.includes(t)||(h.push(t),m.splice(1,0,e))}function d(e){for(var t=e.val(),a=Object.keys(t),n=0;n<a.length;n++){var r=t[a[n]];p({original:r.imageURL,thumbnail:r.imageURL,description:r.caption,thumbnailLabel:r.person,originalClass:"customimage"})}}function g(e){console.log(e)}var E=function(){return s.database().ref("images").on("value",d,g),m},v=a(30),f=a.n(v);var b=function(){return r.a.createElement("div",{style:{}},r.a.createElement(f.a,{items:E(),showFullscreenButton:!1,showPlayButton:!0,autoPlay:!1,infinite:!0,slideInterval:5e3}))},w=a(31),C=a(32),S=a(9),y=a(39),U=a(41),I=a(69),N=a(35),P=a(36),O=a(7),A=a(11),k=function(e){Object(U.a)(a,e);var t=Object(y.a)(a);function a(){var e;return Object(w.a)(this,a),(e=t.call(this)).handleUpload=function(){var t=e.state.image;(null===t&&e.setState({showUploadError:!0}),""===e.state.inputPerson)?e.setState({showInputError:!0}):(s.storage().ref().child("images/".concat(e.state.inputPerson.replace(/[^a-zA-Z ]/g,"")+"_"+e.state.inputCaption.replace(/[^a-zA-Z ]/g,""))).put(t).on("state_changed",(function(e){console.log(e)}),(function(t){console.log(t),e.setState({showServerError:!0})}),(function(){s.storage().ref().child("images/".concat(e.state.inputPerson.replace(/[^a-zA-Z ]/g,"")+"_"+e.state.inputCaption.replace(/[^a-zA-Z ]/g,""))).getDownloadURL().then((function(t){var a={imageURL:t,caption:e.state.inputCaption,person:e.state.inputPerson};s.database().ref("images").push(a)}))})),e.state.showServerError||e.setState({showUploadSuccess:!0}))},e.state={image:null,fileText:"",inputCaption:"",inputPerson:"",showUploadError:!1,showUploadSuccess:!1,showInputError:!1,showServerError:!1},e.handleFileChange=e.handleFileChange.bind(Object(S.a)(e)),e.handleCapChange=e.handleCapChange.bind(Object(S.a)(e)),e.handlePplChange=e.handlePplChange.bind(Object(S.a)(e)),e.handleUpload=e.handleUpload.bind(Object(S.a)(e)),e}return Object(C.a)(a,[{key:"handleCapChange",value:function(e){this.setState({inputCaption:e.target.value})}},{key:"handlePplChange",value:function(e){this.setState({inputPerson:e.target.value})}},{key:"handleFileChange",value:function(e){if(e.target.files[0]){var t=e.target.files[0];this.setState((function(){return{image:t}})),this.setState({fileText:t.name})}}},{key:"render",value:function(){var e=this;return this.state.showUploadError&&this.state.showInputError?r.a.createElement("div",{className:"Alert"},r.a.createElement(A.a,{variant:"warning",onClose:function(){return e.setState({showUploadError:!1,showInputError:!1})},dismissible:!0},r.a.createElement("div",{className:"alertText"}," ",r.a.createElement("b",null,"NO INPUTS:")," Please use these forms to input an image caption, your name, and an image!"))):this.state.showUploadError?r.a.createElement("div",{className:"Alert"},r.a.createElement(A.a,{variant:"danger",onClose:function(){return e.setState({showUploadError:!1})},dismissible:!0},r.a.createElement("div",{className:"alertText"}," ",r.a.createElement("b",null,"NO IMAGE:")," Select an image first to upload."))):this.state.showServerError?r.a.createElement("div",{className:"Alert"},r.a.createElement(A.a,{variant:"warning",onClose:function(){return e.setState({showServerError:!1})},dismissible:!0},r.a.createElement("div",{className:"alertText"}," ",r.a.createElement("b",null,"DID NOT UPLOAD:")," Something went wrong with uploading the image to the server. This will be fixed soon!"))):this.state.showInputError?r.a.createElement("div",{className:"Alert"},r.a.createElement(A.a,{variant:"danger",onClose:function(){return e.setState({showInputError:!1})},dismissible:!0},r.a.createElement("div",{className:"alertText"}," ",r.a.createElement("b",null,"GUESS WHO:")," Please put a name / nickname so we know how cool you are!"))):this.state.showUploadSuccess?r.a.createElement("div",{className:"Alert"},r.a.createElement(A.a,{variant:"success",onClose:function(){return e.setState({showUploadSuccess:!1})},dismissible:!0}," ",r.a.createElement("b",null,"SUCCESSFUL UPLOAD: ")," Scroll to see your picture in the slide show :-)")):r.a.createElement("div",{className:"ButtonContainer"},r.a.createElement("div",{style:{paddingTop:"7vh",paddingBottom:"2vh",left:"30%",width:"40%",fontSize:"min(2.75vw,1.8vh)",position:"relative"}},r.a.createElement(O.a,null,r.a.createElement(I.a,null,r.a.createElement(N.a,null,r.a.createElement(O.a.Group,{onChange:this.handlePplChange,controlId:"formPerson"},r.a.createElement(O.a.Control,{type:"text",placeholder:"Name"}))),r.a.createElement(N.a,null,r.a.createElement(O.a,{onChange:function(t){return e.handleFileChange(t)}},r.a.createElement(O.a.File,{label:this.state.fileText,lang:"en",custom:!0}))))),r.a.createElement(I.a,null,r.a.createElement(N.a,null,r.a.createElement("span",{className:"otherForm"},r.a.createElement(O.a.Group,{onChange:function(t){return e.handleCapChange(t)},controlId:"formCaption"},r.a.createElement(O.a.Control,{type:"text",placeholder:"Description (Optional)"})))),r.a.createElement(N.a,null,r.a.createElement(P.a,{variant:"danger",onClick:this.handleUpload,block:!0},"Upload")))))}}]),a}(n.Component),x=a(37),L=a.n(x);var T=function(){return r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"SCS Image Share"," ",r.a.createElement("img",{src:L.a,style:{height:"15vh"},alt:""}))),r.a.createElement(b,null),r.a.createElement(k,null),r.a.createElement("div",{className:"footer"},r.a.createElement("div",{style:{margin:"0 auto",width:"40vw",color:"rgb(255, 109, 109)",position:"relative",paddingBottom:"4vh"}}," ",r.a.createElement("b",null,"DISCLAIMER: ")," Uploaded pictures are publicly visible. By uploading, you agree that you have permission to redistribute this photo from any involved party, including but not limited to: photo creator, people in the photo, people associated with the photo, etc."),r.a.createElement("a",{href:"https://github.com/lenghuang/cmu-imageshare"},"Made by Len Huang \xa9 March 2020")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[43,1,2]]]);
//# sourceMappingURL=main.4cedf574.chunk.js.map